server:
  port: 8080

################################################################################################################
###Spring Boot 相关组件（SpringMVC、Freemarker、Session、Cache、DataSource）配置：
################################################################################################################
spring:
  # 权限控制
  security:
    # 默认路径拦截规则定义
    filter-chain-definition-map:
      '[/]': anon
      '[/**/favicon.ico]': anon
      '[/webjars/**]': anon
      '[/assets/**]': anon
      '[/error*]': anon
      '[/logo/**]': anon
      '[/swagger-ui.html**]': anon
      '[/swagger-resources/**]': anon
      '[/doc.html]': anon
      '[/bycdao-ui/**]': anon
      '[/v2/**]': anon
      '[/v2/api-docs]': anon
      '[/kaptcha*]': anon
      '[/actuator*]': anon
      '[/actuator/**]': anon
      '[/authz/qrcode/info]': anon
      '[/authz/qrcode/bind]': anon
      '[/authz/login/code2Session]': anon
      '[/authz/login/refershJwt]': anon
      '[/authz/userRelation/newOrrenew]': anon
      '[/authz/logout]': anon
      '[/druid/*]': ipaddr[192.168.1.0/24]
      '[/monitoring]': roles[admin]
      '[/monitoring2]': roles[1,admin]
      '[/monitoring3]': perms[1,admin]
      '[/monitoring4]': perms[1]
    # Cas 单点认证登录
    cas:
      enabled: true
      authc:
        path-pattern: /authz/login/cas
        accept-any-proxy: true
        session-mgt:
          allow-session-creation: true
          creation-policy: if-required
        server-tag-parameter-name: platform
        servers:
          - name: cas1
            attributes:
              - comsys_department
              - comsys_post
              - comsys_cardid
              - comsys_post_type
              - comsys_educational
              - comsys_phone
              - comsys_genders
              - comsys_name
              - comsys_loginid
              - comsys_email
              - comsys_role
              - comsys_other_post
              - comsys_usertype
              - comsys_teaching_number
            always-use-default-target-url: true
            default-target-url: http://10.30.186.134:8089/#/client
            server-login-url: http://10.30.186.104/sso/login
            server-logout-url: http://10.30.186.104/sso/logout
            server-url-prefix: http://10.30.186.104/sso/
            protocol: cas30
            service-host-url: http://10.30.186.134:8080
            service-url: http://10.30.186.134:8080/smartedu-authz/authz/login/cas
            service-callback-url: http://10.30.186.134:8080/smartedu-authz/authz/login/cas
          - name: cas2
            attributes:
              - comsys_department
              - comsys_post
              - comsys_cardid
              - comsys_post_type
              - comsys_educational
              - comsys_phone
              - comsys_genders
              - comsys_name
              - comsys_loginid
              - comsys_email
              - comsys_role
              - comsys_other_post
              - comsys_usertype
              - comsys_teaching_number
            frontend-proxy: true
            frontend-target-url: /portal
            always-use-default-target-url: true
            default-target-url: http://10.30.186.134:8089/#/client
            gateway: false
            server-login-url: http://10.30.186.104/sso/login
            server-logout-url: http://10.30.186.104/sso/logout
            server-url-prefix: http://10.30.186.104/sso/
            protocol: cas30
            proxy-receptor-url: /authz/login/cas-proxy
            proxy-callback-url: http://10.30.186.134:8080/smartedu-authz/authz/login/cas-proxy
            renew: false
            service-url: http://10.30.186.134:8080/smartedu-authz/authz/login/cas
            service-callback-url: http://10.30.186.134:8080/smartedu-authz/authz/login/cas